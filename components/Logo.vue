<template>
    <div class="logo">
        <!-- eslint-disable -->
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 179.9 204.2" width="100%" preserveAspectRatio="xMidYMid meet">
            <style>
                .st0{fill:#fff}.st1{fill:url(#SVGID_1_)}.st2{fill:url(#SVGID_2_)}.st3{fill:url(#eye_1_)}.st4{fill:url(#SVGID_3_)}.st5{fill:url(#SVGID_4_)}.st6{fill:url(#SVGID_5_)}.st7{fill:url(#SVGID_6_)}.st8{fill:url(#SVGID_7_)}.st9{fill:url(#SVGID_8_)}.st10{fill:url(#SVGID_9_)}.st11{fill:url(#SVGID_10_)}.st12{fill:url(#SVGID_11_)}.st13{fill:url(#SVGID_12_)}.st14{fill:url(#SVGID_13_)}
            </style>
            <circle id="eyeOuter" class="st0" cx="139.8" cy="35.7" r="12.4"/>
            <linearGradient id="SVGID_1_" gradientUnits="userSpaceOnUse" x1="268.589" y1="737.999" x2="340.589" y2="788.999" gradientTransform="translate(-172.86 -729.42)">
                <stop offset=".12" stop-color="#f25f5c"/>
                <stop offset=".46" stop-color="#ff9f1c"/>
                <stop offset="1" stop-color="#40e0d0"/>
            </linearGradient>
            <path class="st1" d="M173.4 42.3c-6.2-8-14.8-17.1-23.4-22.5-6.1-3.8-13.1-5.4-20-7.4-10.7-3.2-17.2-8.9-27.7-12.2-1-.3-2.2-.1-3.1.5-1.4 10.7-.5 35.2 30.2 59 12.1 9.4 27.9 11 43 9.4 3.1-1.4 5.6-3.5 6.7-6.6 2.5-7-1.5-14.9-5.7-20.2zm-33.7 8.1c-8.1 0-14.7-6.6-14.7-14.7S131.6 21 139.7 21s14.7 6.6 14.7 14.7-6.6 14.7-14.7 14.7z"/>
            <linearGradient id="SVGID_2_" gradientUnits="userSpaceOnUse" x1="328.272" y1="825.103" x2="285.272" y2="746.103" gradientTransform="translate(-172.86 -729.42)">
                <stop offset="0" stop-color="#40e0d0"/>
                <stop offset=".51" stop-color="#ff9f1c"/>
                <stop offset=".87" stop-color="#f25f5c"/>
            </linearGradient>
            <path class="st2" d="M129.5 59.7C98.8 35.9 97.9 11.4 99.3.7c-3.5 2.3-6 9.7-6.8 12-2.5 7.2-3.8 15.8-.8 23 2.4 5.9 8 14.7 11.3 20.1 4.8 7.7 5.4 14.2 13 19.8 5.4 3.8 12.3 5.1 18.7 3.5 3.1-.8 7.3-1.7 11.2-2.6 4-1.4 8.2-2 12.2-3.2 4.3-1.3 9.9-2.2 14.2-4.3-14.9 1.7-30.7.1-42.8-9.3z"/>
            <linearGradient id="eye_1_" gradientUnits="userSpaceOnUse" x1="312.428" y1="765.546" x2="315.57" y2="754.119" gradientTransform="translate(-172.86 -729.42)">
                <stop offset=".03"/>
                <stop offset=".16" stop-color="#040404"/>
                <stop offset=".28" stop-color="#101010"/>
                <stop offset=".4" stop-color="#242424"/>
                <stop offset=".52" stop-color="#404040"/>
                <stop offset=".64" stop-color="#646464"/>
                <stop offset=".76" stop-color="#909090"/>
                <stop offset=".88" stop-color="#c4c4c4"/>
                <stop offset="1" stop-color="#fff"/>
            </linearGradient>
            <path :id="'eye' + this.eyeId" :style="transform" class="st3 eye" d="M144.8,28.8c-0.5,1.8-2.4,2.8-4.1,2.2c-1.4-0.4-2.4-1.7-2.4-3.2c0-0.2,0-0.4,0.1-0.6
	c-4.7,0.7-7.8,5.1-7.1,9.9c0.7,4.7,5.1,7.8,9.9,7.1c4.7-0.7,7.8-5.1,7.1-9.9C147.8,32.1,146.6,30.1,144.8,28.8L144.8,28.8z"/>
            <linearGradient id="SVGID_3_" gradientUnits="userSpaceOnUse" x1="296.203" y1="822.591" x2="265.533" y2="815.591" gradientTransform="translate(-172.86 -729.42)">
                <stop offset=".13" stop-color="#f25f5c"/>
                <stop offset=".49" stop-color="#ff9f1c"/>
                <stop offset="1" stop-color="#40e0d0"/>
            </linearGradient>
            <path class="st4" d="M109.4 81.7s-2.9 9.5-9.1 14.5c0 0 23.7 1.8 28.2-7.3 0 0-17.8.7-19.1-7.2z"/>
            <linearGradient id="SVGID_4_" gradientUnits="userSpaceOnUse" x1="280.722" y1="862.454" x2="248.062" y2="855.114" gradientTransform="translate(-172.86 -729.42)">
                <stop offset=".13" stop-color="#f25f5c"/>
                <stop offset=".49" stop-color="#ff9f1c"/>
                <stop offset="1" stop-color="#40e0d0"/>
            </linearGradient>
            <path class="st5" d="M85.9 119.5s-1.6 9.8-7.1 15.6c0 0 23.7-1.3 27-11 0 0-17.5 3.1-19.9-4.6z"/>
            <linearGradient id="SVGID_5_" gradientUnits="userSpaceOnUse" x1="257.289" y1="746.51" x2="260.619" y2="816.52" gradientTransform="translate(-172.86 -729.42)">
                <stop offset=".11" stop-color="#f25f5c"/>
                <stop offset=".44" stop-color="#ff9f1c"/>
                <stop offset="1" stop-color="#40e0d0"/>
            </linearGradient>
            <path class="st6" d="M98.5 61.7C85.2 42.8 79.1 34.8 86.1 22.8c-4.1 1.1-8.1 2.4-11.9 4.1-4.5 5.1-8.8 14.5 1.5 28.3 15 20 20.4 35.2 12.8 47 6.2-5.1 23.1-21.8 10-40.5z"/>
            <linearGradient id="SVGID_6_" gradientUnits="userSpaceOnUse" x1="218.786" y1="765.265" x2="293.456" y2="829.265" gradientTransform="translate(-172.86 -729.42)">
                <stop offset=".1" stop-color="#f25f5c"/>
                <stop offset=".47" stop-color="#ff9f1c"/>
                <stop offset=".76" stop-color="#40e0d0"/>
            </linearGradient>
            <path class="st7" d="M75.7 55.2c-10.3-13.8-6-23.2-1.5-28.3-5.5 2.2-10.6 5.2-15.2 8.8-10.8 9 2.4 28 7.4 33.5 7 7.7 19.9 20 20.1 34.6 0 0 .8-.6 2-1.6 7.6-11.8 2.2-27-12.8-47z"/>
            <linearGradient id="SVGID_7_" gradientUnits="userSpaceOnUse" x1="212.057" y1="782.625" x2="249.467" y2="835.365" gradientTransform="translate(-172.86 -729.42)">
                <stop offset=".14" stop-color="#f25f5c"/>
                <stop offset=".43" stop-color="#ff9f1c"/>
                <stop offset="1" stop-color="#40e0d0"/>
            </linearGradient>
            <path class="st8" d="M81 101.2c-3.6-15.7-32.2-31.8-31.3-56.9-6.1 4-11.4 9.2-15.6 15.2.2 3.4 2.4 10.2 13.5 20.8C62.9 94.9 77 111 76 128.8c2.4-4 7.9-15 5-27.6z"/>
            <linearGradient id="SVGID_8_" gradientUnits="userSpaceOnUse" x1="210.858" y1="811" x2="259.858" y2="849.9" gradientTransform="translate(-172.86 -729.42)">
                <stop offset=".11" stop-color="#f25f5c"/>
                <stop offset=".44" stop-color="#ff9f1c"/>
                <stop offset=".76" stop-color="#40e0d0"/>
            </linearGradient>
            <path class="st9" d="M47.7 80.2C36.6 69.6 34.4 62.9 34.2 59.5c-2.5 3.6-4.5 7.5-5.9 11.6-5.9 17.4 20.2 30.6 29.4 36.4s17.1 14.6 17.4 22.6c0 0 .4-.5.9-1.5 1-17.7-13.1-33.8-28.3-48.4z"/>
            <linearGradient id="SVGID_9_" gradientUnits="userSpaceOnUse" x1="200.77" y1="807.803" x2="235.77" y2="881.803" gradientTransform="translate(-172.86 -729.42)">
                <stop offset=".11" stop-color="#f25f5c"/>
                <stop offset=".43" stop-color="#ff9f1c"/>
                <stop offset=".86" stop-color="#40e0d0"/>
            </linearGradient>
            <path class="st10" d="M67.2 123.7c-11.6-16-44-22.4-44.4-42.9-1.9 5.5-3.1 11.2-3.7 16.9 2.3 7 9.2 16.5 28.3 25.6 12.4 5.9 19.1 12.5 22.5 18.6 1.1-6.3.9-13.3-2.7-18.2z"/>
            <linearGradient id="SVGID_10_" gradientUnits="userSpaceOnUse" x1="195.861" y1="846.158" x2="255.261" y2="880.808" gradientTransform="translate(-172.86 -729.42)">
                <stop offset="0" stop-color="#f25f5c"/>
                <stop offset=".48" stop-color="#ff9f1c"/>
                <stop offset=".84" stop-color="#40e0d0"/>
            </linearGradient>
            <path class="st11" d="M47.4 123.3c-19.1-9-26-18.6-28.3-25.6-.3 2.9-.4 5.7-.4 8.6.4 13.3 13.4 23.3 19.8 29.1C47 143 58.3 150.6 65 158c2.3-5.2 4-10.6 5-16.2-3.5-6.1-10.2-12.7-22.6-18.5z"/>
            <linearGradient id="SVGID_11_" gradientUnits="userSpaceOnUse" x1="171.863" y1="860.423" x2="244.643" y2="786.613" gradientTransform="translate(-172.86 -729.42)">
                <stop offset=".03" stop-color="#00c0b9"/>
                <stop offset=".28" stop-color="#40e0d0"/>
                <stop offset=".54" stop-color="#f25f5c"/>
                <stop offset="1" stop-color="#ff9f1c"/>
            </linearGradient>
            <path class="st12" d="M23 170.4s-21.6-31.9-8-85.1c13.6-53.5 69.9-68.2 69.9-68.2l-12.5-2.2 1.1 2.8H62.1l1.9 2.7-11.3.9 2.7 3.3-14.1 1.9 5 3.3-13.9 3.6 6.4 3-13.6 4.4 5.5 3.1-12.7 7 5.5 1.7-11.9 8.6 5.6.8-10.5 9.4h7.5L3.1 82.7l6.1-.6L.8 95.8l5.8-1.9L0 109.6l5-2.5-3.3 15 3.6-3.9-1.9 15.2 3.9-2.5c-.1.1.7 18.4 15.7 39.5z"/>
            <linearGradient id="SVGID_12_" gradientUnits="userSpaceOnUse" x1="190.939" y1="883.639" x2="282.939" y2="899.639" gradientTransform="translate(-172.86 -729.42)">
                <stop offset="0" stop-color="#ff9f1c"/>
                <stop offset=".44" stop-color="#f25f5c"/>
                <stop offset="1" stop-color="#40e0d0"/>
            </linearGradient>
            <path class="st13" d="M97.3 143.8c-24.9.4-28 31.2-12.8 38.1 14.5 6.6 26.7-8.6 21.6-18.2-3.1-6-12.1-8.6-17.5-4.2-3 2.5-3.7 5.1-3.7 6.9 0 2.3 1 4.4 2.7 5.9 1.1.9 2.5 1.4 4 1.4 1 0 2-.2 2.9-.7 1.9-1 2.9-3.1 2.6-5.2-.1-1.2-1.2-2.1-2.4-2-1.2.2-2.1 1.3-2 2.5 0 .4-.1.6-.3.7-.6.3-1.4.2-2-.2-.7-.6-1.1-1.4-1.1-2.3.2-1.4.9-2.6 2.1-3.4 1.1-.9 3.8-1.1 5.1-.9 1.7.3 3.2 1.2 4.2 2.6 2 2.6 2.1 6.1.2 8.8-1 1.5-2.3 2.8-3.7 3.8-4.9 3-12.5 1.8-15.4-4.6-6.6-14.8 7.8-25.2 18.4-22.9 1 .2 1.9.5 2.8.9 13.1 2.4 17.2 20.7 10.6 31.3-8.7 14.1-28.1 18.4-42.2 11.9-18.2-8.5-32.1-33.4-34.2-51.7-10.7-9-20.3-18.4-20.7-27.2C15 132 22.2 156 31.5 171c8.5 13.6 24.8 27.6 40.1 31.2 15.5 3.7 29 2.9 40.9-8.7 20.4-19.9 6.2-50.1-15.2-49.7z"/>
            <linearGradient id="SVGID_13_" gradientUnits="userSpaceOnUse" x1="287.665" y1="925.954" x2="209.665" y2="856.454" gradientTransform="translate(-172.86 -729.42)">
                <stop offset="0" stop-color="#40e0d0"/>
                <stop offset=".49" stop-color="#ff9f1c"/>
                <stop offset="1" stop-color="#f25f5c"/>
            </linearGradient>
            <path class="st14" d="M71.5 193.9c14 6.6 33.5 2.2 42.2-11.9 6.6-10.6 2.5-28.9-10.6-31.3 9.7 3.9 13.8 15.3 10.1 25.1-2.1 5.1-5.9 9.4-10.7 12.2-8.5 4.6-20.9 4.3-28.8-1.5-5.3-4-9-9.8-10.4-16.3-.2-1-.4-2-.5-3-.1-.7 0-2.9-.4-3.4-5.9-6.5-15.9-13.9-25.1-21.6 2.1 18.3 16 43.2 34.2 51.7z"/>
        </svg>
    </div>
</template>

<script>
export default {
    props: {
        x: {
            type: Number,
            required: false,
            default: null
        },
        y: {
            type: Number,
            required: false,
            default: null
        },
        activateTheEye: {
            type: Boolean,
            required: false,
            default: false
        }
    },
    data() {
        return {
            eyeX: 0,
            eyeY: 0,
            viewX: 0,
            viewY: 0,
            eyeId: 0
        }
    },
    computed: {
        eyeMoveX() {
            /* eslint-disable */
            const max = 3.5
            if (this.x >= this.eyeX) {
                return (
                    (
                        (this.x - this.eyeX) /
                        (this.viewX - this.eyeX) *
                        max
                    ).toFixed(1) + 'px'
                )
            }
            if (this.eyeX > this.x) {
                return (
                    ((this.x - this.eyeX) / this.eyeX * max).toFixed(1) + 'px'
                )
            } else {
                return '0px'
            }
        },
        eyeMoveY() {
            const max = 3.5
            if (this.y - this.eyeY >= this.viewY) {
                return max + 'px'
            }
            if (this.eyeY - this.y >= this.viewY) {
                return -max + 'px'
            }

            if (this.y >= this.eyeY) {
                return (
                    (
                        (this.y - this.eyeY) /
                        (this.viewY - this.eyeY) *
                        max
                    ).toFixed(1) + 'px'
                )
            }

            if (this.eyeY > this.y) {
                return (
                    ((this.y - this.eyeY) / this.eyeY * max).toFixed(1) + 'px'
                )
            } else {
                return 0
            }
        },
        transform() {
            let rotate = 0
            // const x = this.eyeMoveX.substring(0, this.eyeMoveX.length - 2)
            // if (x !== 0) {
            //     rotate = x > 0 ? 10 : -10
            // }

            rotate += 'deg'

            const trans =
                'transform: translate(' +
                this.eyeMoveX +
                ',' +
                this.eyeMoveY +
                ') rotate(' +
                rotate +
                ')'
            return trans
        }
        /* eslint-enable */
    },
    beforeCreate() {},
    mounted() {
        this.eyeId = Math.floor(Math.random() * Math.floor(100000))
        if (this.activateTheEye) {
            this.updateEyePosition()
            this.updateViewport()
            window.addEventListener('resize', this.updateViewport)
            document.addEventListener('mousemove', this.updateEyePosition)
            document.addEventListener('touchstart', this.updateEyePosition)
        }
    },
    destroyed() {
        window.removeEventListener('resize', this.updateViewport)
        document.removeEventListener('mousemove', this.updateEyePosition)
        document.removeEventListener('touchstart', this.updateEyePosition)
    },
    methods: {
        updateEyePosition() {
            const eye = document.getElementById('eye' + this.eyeId)

            if (eye) {
                const rect = eye.getBoundingClientRect()
                this.eyeX = rect.left
                this.eyeY = rect.top
            }
        },
        updateViewport() {
            this.viewX = document.documentElement.clientWidth
            this.viewY = document.documentElement.clientHeight
        }
    }
}
</script>

<style lang="scss" scoped>
@for $i from 1 through 34 {
    path:not(.eye):nth-child(#{$i}) {
        animation-name: pulse;
        animation-duration: 5s;
        animation-delay: #{$i * 0.2}s;
        animation-iteration-count: infinite;
        animation-timing-function: ease-in-out;
    }
}

@keyframes pulse {
    0% {
        opacity: 1;
    }
    50% {
        opacity: 0.5;
    }
    100% {
        opacity: 1;
    }
}

#eye {
    transform-origin: center center;
    will-change: transform;
}
</style>
